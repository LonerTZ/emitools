<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Test - EMI Calculator</title>
    <link href="styles/test.css" rel="stylesheet">
</head>
<body>
    <h1>Currency Functionality Test</h1>
    
    <div class="test-section">
        <h3>Test 1: Currency Selection</h3>
        <div class="currency-select">
            <label>Select Currency:</label>
            <select id="currencySelect">
                <option value="INR" data-symbol="₹" data-name="Indian Rupee">₹ Indian Rupee (INR)</option>
                <option value="USD" data-symbol="$" data-name="US Dollar">$ US Dollar (USD)</option>
                <option value="EUR" data-symbol="€" data-name="Euro">€ Euro (EUR)</option>
                <option value="GBP" data-symbol="£" data-name="British Pound">£ British Pound (GBP)</option>
                <option value="JPY" data-symbol="¥" data-name="Japanese Yen">¥ Japanese Yen (JPY)</option>
            </select>
        </div>
        <div class="result" id="currencyResult">Selected: INR (₹)</div>
    </div>
    
    <div class="test-section">
        <h3>Test 2: Amount Range Update</h3>
        <div class="currency-select">
            <label>Amount Range:</label>
            <div id="amountRange">₹1,000 - ₹10,00,00,000</div>
        </div>
    </div>
    
    <div class="test-section">
        <h3>Test 3: Currency Formatting</h3>
        <div class="currency-select">
            <label>Test Amount:</label>
            <input type="number" id="testAmount" value="1000000" placeholder="Enter amount">
            <button onclick="testFormatting()">Format Amount</button>
        </div>
        <div class="result" id="formatResult">Formatted: ₹10,00,000</div>
    </div>
    
    <div class="test-section">
        <h3>Test 4: Validation Limits</h3>
        <div class="currency-select">
            <label>Test Validation:</label>
            <input type="number" id="testValidation" placeholder="Enter amount to validate">
            <button onclick="testValidation()">Validate</button>
        </div>
        <div class="result" id="validationResult">Validation result will appear here</div>
    </div>

    <script>
        // Currency data (same as in main calculator)
        let currencyData = {
            INR: { symbol: '₹', name: 'Indian Rupee', locale: 'en-IN', minAmount: 1000, maxAmount: 100000000 },
            USD: { symbol: '$', name: 'US Dollar', locale: 'en-US', minAmount: 100, maxAmount: 10000000 },
            EUR: { symbol: '€', name: 'Euro', locale: 'de-DE', minAmount: 100, maxAmount: 10000000 },
            GBP: { symbol: '£', name: 'British Pound', locale: 'en-GB', minAmount: 100, maxAmount: 10000000 },
            JPY: { symbol: '¥', name: 'Japanese Yen', locale: 'ja-JP', minAmount: 10000, maxAmount: 1000000000 }
        };
        
        let selectedCurrency = 'INR';
        
        // Format currency function
        function formatCurrency(amount) {
            const currency = currencyData[selectedCurrency];
            return currency.symbol + amount.toLocaleString(currency.locale);
        }
        
        // Update amount range
        function updateAmountRange() {
            const currency = currencyData[selectedCurrency];
            const minFormatted = formatCurrency(currency.minAmount);
            const maxFormatted = formatCurrency(currency.maxAmount);
            document.getElementById('amountRange').textContent = `${minFormatted} - ${maxFormatted}`;
        }
        
        // Currency selection handler
        document.getElementById('currencySelect').addEventListener('change', function() {
            selectedCurrency = this.value;
            const currency = currencyData[selectedCurrency];
            document.getElementById('currencyResult').textContent = `Selected: ${currency.code || selectedCurrency} (${currency.symbol})`;
            updateAmountRange();
        });
        
        // Test formatting
        function testFormatting() {
            const amount = parseFloat(document.getElementById('testAmount').value);
            if (!isNaN(amount)) {
                document.getElementById('formatResult').textContent = `Formatted: ${formatCurrency(amount)}`;
            }
        }
        
        // Test validation
        function testValidation() {
            const amount = parseFloat(document.getElementById('testValidation').value);
            const currency = currencyData[selectedCurrency];
            
            if (isNaN(amount)) {
                document.getElementById('validationResult').textContent = 'Invalid: Not a number';
                return;
            }
            
            if (amount < currency.minAmount || amount > currency.maxAmount) {
                document.getElementById('validationResult').textContent = `Invalid: Amount must be between ${formatCurrency(currency.minAmount)} and ${formatCurrency(currency.maxAmount)}`;
            } else {
                document.getElementById('validationResult').textContent = `Valid: Amount ${formatCurrency(amount)} is within range`;
            }
        }
        
        // Initialize
        updateAmountRange();
    </script>
</body>
</html>
